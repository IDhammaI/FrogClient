/*
 * Decompiled with CFR 0.152.
 * 
 * Could not load the following classes:
 *  net.minecraft.entity.player.PlayerModelPart
 */
package dev.gzsakura_miitong.mod.modules.impl.exploit;

import dev.gzsakura_miitong.api.events.eventbus.EventListener;
import dev.gzsakura_miitong.api.events.impl.UpdateEvent;
import dev.gzsakura_miitong.mod.modules.Module;
import dev.gzsakura_miitong.mod.modules.settings.impl.BooleanSetting;
import dev.gzsakura_miitong.mod.modules.settings.impl.EnumSetting;
import java.util.Random;
import net.minecraft.entity.player.PlayerModelPart;

public class SkinFlicker
extends Module {
    private final EnumSetting<Mode> mode = this.add(new EnumSetting<Mode>("Mode", Mode.Random));
    private final BooleanSetting cape = this.add(new BooleanSetting("CAPE", true));
    private final BooleanSetting jacket = this.add(new BooleanSetting("JACKET", true));
    private final BooleanSetting left_sleeve = this.add(new BooleanSetting("LEFT_SLEEVE", true));
    private final BooleanSetting right_sleeve = this.add(new BooleanSetting("RIGHT_SLEEVE", true));
    private final BooleanSetting leftPantsLeg = this.add(new BooleanSetting("LEFT_PANTS_LEG", true));
    private final BooleanSetting rightPantsLeg = this.add(new BooleanSetting("RIGHT_PANTS_LEG", true));
    private final BooleanSetting hat = this.add(new BooleanSetting("HAT", true));
    final Random random = new Random();
    boolean sync = false;

    public SkinFlicker() {
        super("SkinFlicker", Module.Category.Exploit);
        this.setChinese("\u76ae\u80a4\u95ea\u70c1");
    }

    /*
     * Enabled aggressive block sorting
     */
    @EventListener
    public void onUpdate(UpdateEvent event) {
        this.sync = !this.sync;
        PlayerModelPart[] playerModelPartArray = PlayerModelPart.values();
        int n = playerModelPartArray.length;
        int n2 = 0;
        while (true) {
            block16: {
                if (n2 >= n) {
                    return;
                }
                PlayerModelPart playerModelPart = playerModelPartArray[n2];
                switch (playerModelPart.getId()) {
                    case 0: {
                        if (this.cape.getValue()) break;
                        break block16;
                    }
                    case 1: {
                        if (this.jacket.getValue()) break;
                        break block16;
                    }
                    case 2: {
                        if (this.left_sleeve.getValue()) break;
                        break block16;
                    }
                    case 3: {
                        if (this.right_sleeve.getValue()) break;
                        break block16;
                    }
                    case 4: {
                        if (this.leftPantsLeg.getValue()) break;
                        break block16;
                    }
                    case 5: {
                        if (this.rightPantsLeg.getValue()) break;
                        break block16;
                    }
                    case 6: {
                        if (!this.hat.getValue()) break block16;
                    }
                }
                boolean toggle = true;
                switch (this.mode.getValue().ordinal()) {
                    case 0: {
                        toggle = this.random.nextBoolean();
                        break;
                    }
                    case 1: {
                        toggle = !SkinFlicker.mc.options.isPlayerModelPartEnabled(playerModelPart);
                        break;
                    }
                    case 2: {
                        toggle = this.sync;
                        break;
                    }
                }
                SkinFlicker.mc.options.togglePlayerModelPart(playerModelPart, toggle);
            }
            ++n2;
        }
    }

    private static enum Mode {
        Random,
        Switch,
        Sync;

    }
}

